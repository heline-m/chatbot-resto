version: "3.1"

intents:
  - greet
  - goodbye
  - affirm
  - deny
  - booking
  - booking_date
  - utter_recap_date
  - utter_booking_name
  - name_booking
  - utter_recap_name
  - booking_comment
  - booking_add_comment
  - booking_give_resa_number

responses:
  utter_greet:
  - text: "Salut! Comment puis-je vous aider ?"

  utter_happy:
  - text: "Parfait !"

  utter_goodbye:
  - text: "Au revoir"

  utter_booking_place:
  - text: "Bien-sûr ça serait pour combien de personne ?"

  utter_booking_date:
  - text: "A quelle date souhaitez vous réserver ?"

  utter_booking_name:
    - text: "Et ça sera à quel nom ? "

  utter_recap_date:
    - text: "C'est noté, vous avez donc réservé pour {number} personne, pour le {day} {number} {month}"
    - text: "C'est noté, vous avez donc réservé pour {number} personne, pour le {number} {month}"
    - text: "Oh navré mais nous n'avons plus de table disponible à cette date"

  utter_recap_name:
    - text: "ok très bien {booking_name}"
    - text: "{booking_name} c'est noté"

  utter_ask_booking_code:
    - text : "Pouvez vous me donnez le numéro de votre réservation ?"

  utter_ask_comment:
    - text: "De quoi souhaitez-vous nous faire part ?"

forms:
  comment_form:
    required_slots:
      - booking_code
      - comment
slots:
  booking_code:
    type: text
    influence_conversation: false
    mappings:
      - type: from_entity
        entity: booking_code
  day:
    type: text
    influence_conversation: false
    mappings:
      - type: from_entity
        entity: day
  number:
    type: text
    influence_conversation: false
    mappings:
      - type: from_entity
        entity: number
  month:
    type: text
    influence_conversation: false
    mappings:
      - type: from_entity
        entity: month
  booking_name:
    type: text
    influence_conversation: false
    mappings:
      - type: from_entity
        entity: booking_name
  comment:
    type: text
    influence_conversation: false
    mappings:
      - type: from_entity
        entity: comment

entities:
  - booking_code
  - number
  - day
  - month
  - booking_name
  - comment

actions:
  - validate_comment_form
  - action_save_comment


session_config:
  session_expiration_time: 60
  carry_over_slots_to_new_session: true
